document.addEventListener("DOMContentLoaded",()=>{let e=[{id:1,nombre:"Figura",precio:100,imagen:"./img/figura.jpg"},{id:2,nombre:"Mug",precio:50,imagen:"./img/mug.png"},{id:3,nombre:"Figura 2",precio:200,imagen:"./img/figura2.jpg"},{id:4,nombre:"Figura 3",precio:300,imagen:"./img/figura3.jpg"}],t=[],n=document.querySelector("#items"),i=document.querySelector("#carrito"),r=document.querySelector("#total"),a=document.querySelector("#boton-vaciar"),d=window.localStorage;function c(e){t.push(e.target.getAttribute("marcador")),o(),m()}function o(){i.textContent="",[...new Set(t)].forEach(n=>{let r=e.filter(e=>e.id===parseInt(n)),a=t.reduce((e,t)=>t===n?e+=1:e,0),d=document.createElement("li");d.classList.add("list-group-item","text-right","mx-2"),d.textContent=`${a} x ${r[0].nombre} - ${r[0].precio}$`;let c=document.createElement("button");c.classList.add("btn","btn-danger","mx-5"),c.textContent="X",c.style.marginLeft="1rem",c.dataset.item=n,c.addEventListener("click",l),d.appendChild(c),i.appendChild(d)}),r.textContent=t.reduce((t,n)=>t+e.filter(e=>e.id===parseInt(n))[0].precio,0).toFixed(2)}function l(e){let n=e.target.dataset.item;t=t.filter(e=>e!==n),o(),m()}function m(){d.setItem("carrito",JSON.stringify(t))}a.addEventListener("click",function(){t=[],o(),localStorage.clear()}),null!==d.getItem("carrito")&&(t=JSON.parse(d.getItem("carrito"))),e.forEach(e=>{let t=document.createElement("div");t.classList.add("card","col-sm-4");let i=document.createElement("div");i.classList.add("card-body");let r=document.createElement("h5");r.classList.add("card-title"),r.textContent=e.nombre;let a=document.createElement("img");a.classList.add("img-fluid"),a.setAttribute("src",e.imagen);let d=document.createElement("p");d.classList.add("card-text"),d.textContent=`${e.precio}$`;let o=document.createElement("button");o.classList.add("btn","btn-primary"),o.textContent="+",o.setAttribute("marcador",e.id),o.addEventListener("click",c),i.appendChild(a),i.appendChild(r),i.appendChild(d),i.appendChild(o),t.appendChild(i),n.appendChild(t)}),o()});
//# sourceMappingURL=index.21c00437.js.map
